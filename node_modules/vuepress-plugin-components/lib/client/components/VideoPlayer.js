import{isArray as i}from"@vuepress/shared";import{defineComponent as l,shallowRef as n,computed as c,onMounted as d,onBeforeMount as u,h as o}from"vue";import"plyr/dist/plyr.css";import"../styles/video-player.scss";import{g as e}from"../getLink-E24rbGij.js";import"@vuepress/client";var y=l({name:"VideoPlayer",props:{options:{type:Object,default:()=>({})},src:{type:[String,Array],required:!0},title:{type:String,default:"A video"},type:{type:String,default:""},tracks:{type:Array,default:()=>[]},poster:{type:String,default:""},width:{type:[String,Number],default:"100%"},loop:Boolean},setup(t){let s=null;const a=n(),p=c(()=>({hideYouTubeDOMError:!0,...t.options}));return d(async()=>{const{default:r}=await import("plyr");s=new r(a.value,p.value)}),u(()=>{try{s?.destroy()}catch{}}),()=>o("div",{class:"vp-video-player",style:{width:t.width}},[o("a",{class:"sr-only",href:e(i(t.src)?t.src[0].src:t.src)},t.title),o("video",{ref:a,title:t.title,crossorigin:"anonymous",poster:e(t.poster),preload:"metadata",controls:"",...t.loop?{loop:""}:{}},[t.tracks.map(r=>o("track",{...r,src:e(r.src)})),i(t.src)?t.src.map(r=>o("source",r)):o("source",{src:e(t.src),type:t.type})])])}});export{y as default};
//# sourceMappingURL=VideoPlayer.js.map
