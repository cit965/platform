import{defineComponent as p,shallowRef as n,computed as s,onMounted as u,onBeforeMount as d,h as o}from"vue";import"plyr/dist/plyr.css";import"../styles/audio-player.scss";import{g as e}from"../getLink-E24rbGij.js";import"@vuepress/client";import"@vuepress/shared";var y=p({name:"AudioPlayer",props:{options:{type:Object,default:()=>({})},src:{type:String,required:!0},title:{type:String,default:""},type:{type:String,default:""},poster:{type:String,default:""},width:{type:[String,Number],default:"100%"},loop:Boolean},setup(t){let r=null;const i=n(),l=s(()=>({hideYouTubeDOMError:!0,...t.options}));return u(async()=>{const{default:a}=await import("plyr");r=new a(i.value,l.value)}),d(()=>{try{r?.destroy()}catch{}}),()=>o("div",{class:"vp-audio-player",style:{width:t.width}},[o("a",{class:"sr-only",href:e(t.src),innerHTML:t.title||"An audio"}),t.poster?o("img",{class:"vp-audio-player-poster",src:e(t.poster),loading:"lazy","no-view":""}):null,o("div",{class:"vp-audio-player-info"},[t.title?o("div",{class:"vp-audio-player-title",innerHTML:t.title}):null,o("audio",{ref:i,crossorigin:"anonymous",preload:"metadata",controls:"",...t.loop?{loop:""}:{}},o("source",{src:e(t.src),type:t.type}))])])}});export{y as default};
//# sourceMappingURL=AudioPlayer.js.map
