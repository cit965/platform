"use strict";const S=(l,{name:o="demo",openRender:_=(m,e)=>`<details><summary>${m[e].info.trim()}</summary>
`,closeRender:y=()=>`</details>
`,codeRender:a,beforeContent:p=!1}={})=>{const m=(e,s,C,T)=>{let t=e.bMarks[s]+e.tShift[s],c=e.eMarks[s];if(e.src[t]!==":")return!1;let r=t+1;for(;r<=c&&e.src[r]===":";)r+=1;const k=r-t;if(k<3)return!1;const g=e.src.slice(t,r),b=e.src.slice(r,c);if(b.trim().split(" ",2)[0]!==o)return!1;if(T)return!0;let n=s,h=!1;for(;n<C&&(n+=1,t=e.bMarks[n]+e.tShift[n],c=e.eMarks[n],!(t<c&&e.sCount[n]<e.blkIndent));)if(e.src[t]===":"&&e.sCount[n]-e.blkIndent<4){for(r=t+1;r<=c&&e.src[r]===":";r++);if(Math.floor(r-t)>=k&&(r=e.skipSpaces(r),r>=c)){h=!0;break}}const x=e.parentType,I=e.lineMax;e.parentType="container",e.lineMax=n;const f=b.trim().slice(o.length).trim(),i=e.push("demo_open","div",1);i.markup=g,i.block=!0,i.info=f,i.map=[s,n];const M=()=>{const d=e.push(a?"demo_code":"fence","code",0),R=e.sCount[s];d.content=e.getLines(s+1,n,R,!0).replace(/^(\n\r?)+/,"").replace(/(\n\r?)+$/,`
`),d.map=[s,e.line],(d.meta??={}).title=f,a||(d.info="md")};p&&M(),e.md.block.tokenize(e,s+1,n),p||M();const u=e.push("demo_close","div",-1);return u.markup=e.src.slice(t,r),u.block=!0,u.info=f,e.parentType=x,e.lineMax=I,e.line=n+(h?1:0),!0};l.block.ruler.before("fence","demo",m,{alt:["paragraph","reference","blockquote","list"]}),l.renderer.rules.demo_open=_,l.renderer.rules.demo_close=y,a&&(l.renderer.rules.demo_code=a)};exports.demo=S;
//# sourceMappingURL=index.cjs.map
