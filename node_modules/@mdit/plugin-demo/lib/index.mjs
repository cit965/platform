const S=(l,{name:p="demo",openRender:_=(m,e)=>`<details><summary>${m[e].info.trim()}</summary>
`,closeRender:y=()=>`</details>
`,codeRender:a,beforeContent:u=!1}={})=>{const m=(e,s,C,x)=>{let t=e.bMarks[s]+e.tShift[s],c=e.eMarks[s];if(e.src[t]!==":")return!1;let r=t+1;for(;r<=c&&e.src[r]===":";)r+=1;const k=r-t;if(k<3)return!1;const T=e.src.slice(t,r),b=e.src.slice(r,c);if(b.trim().split(" ",2)[0]!==p)return!1;if(x)return!0;let n=s,h=!1;for(;n<C&&(n+=1,t=e.bMarks[n]+e.tShift[n],c=e.eMarks[n],!(t<c&&e.sCount[n]<e.blkIndent));)if(e.src[t]===":"&&e.sCount[n]-e.blkIndent<4){for(r=t+1;r<=c&&e.src[r]===":";r++);if(Math.floor(r-t)>=k&&(r=e.skipSpaces(r),r>=c)){h=!0;break}}const g=e.parentType,I=e.lineMax;e.parentType="container",e.lineMax=n;const f=b.trim().slice(p.length).trim(),i=e.push("demo_open","div",1);i.markup=T,i.block=!0,i.info=f,i.map=[s,n];const M=()=>{const d=e.push(a?"demo_code":"fence","code",0),R=e.sCount[s];d.content=e.getLines(s+1,n,R,!0).replace(/^(\n\r?)+/,"").replace(/(\n\r?)+$/,`
`),d.map=[s,e.line],(d.meta??={}).title=f,a||(d.info="md")};u&&M(),e.md.block.tokenize(e,s+1,n),u||M();const o=e.push("demo_close","div",-1);return o.markup=e.src.slice(t,r),o.block=!0,o.info=f,e.parentType=g,e.lineMax=I,e.line=n+(h?1:0),!0};l.block.ruler.before("fence","demo",m,{alt:["paragraph","reference","blockquote","list"]}),l.renderer.rules.demo_open=_,l.renderer.rules.demo_close=y,a&&(l.renderer.rules.demo_code=a)};export{S as demo};
//# sourceMappingURL=index.mjs.map
