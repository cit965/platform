"use strict";var f=require("node:module"),v=require("@mdit/plugin-tex"),S=require("upath"),h=typeof document<"u"?document.currentScript:null;const e=f.createRequire(typeof document>"u"?require("url").pathToFileURL(__filename).href:h&&h.src||new URL("index.cjs",document.baseURI).href),j=t=>{try{const{AllPackages:a}=e("mathjax-full/js/input/tex/AllPackages.js"),{TeX:n}=e("mathjax-full/js/input/tex.js"),{CHTML:l}=e("mathjax-full/js/output/chtml.js"),{SVG:s}=e("mathjax-full/js/output/svg.js");return{InputJax:new n({packages:a,...t.tex}),OutputJax:t.output==="chtml"?new l({fontURL:S.dirname(e.resolve("mathjax-full/es5/output/chtml/fonts/woff-v2/MathJax_Zero.woff")),adaptiveCSS:!0,...t.chtml}):new s({fontCache:"none",...t.svg}),enableAssistiveMml:t.a11y!==!1}}catch{return console.error('[@mdit/mathjax] "mathjax-full" is not installed!'),null}},w=(t={})=>{const a=j(t);if(!a)return null;const{OutputJax:n,InputJax:l}=a,{CHTML:s}=e("mathjax-full/js/output/chtml.js"),u=e("mathjax-full/js/adaptors/liteAdaptor.js").liteAdaptor(),o=e("mathjax-full/js/handlers/html.js").RegisterHTMLHandler,r=e("mathjax-full/js/a11y/assistive-mml.js").AssistiveMmlHandler,{mathjax:c}=e("mathjax-full/js/mathjax.js"),m=o(u);t.a11y!==!1&&r(m);const i=()=>{n instanceof s&&n.clearCache()},p=()=>{l.reset()},x=()=>{const d=u.innerHTML(n.styleSheet(c.document("",a)));return i(),d};return{adaptor:u,documentOptions:a,allowInlineWithSpace:t.allowInlineWithSpace??!1,mathFence:t.mathFence??!1,clearStyle:i,reset:p,outputStyle:x}},y=(t,a)=>{const{mathjax:n}=e("mathjax-full/js/mathjax.js"),{allowInlineWithSpace:l,adaptor:s,documentOptions:u,mathFence:o}=a;t.use(v.tex,{allowInlineWithSpace:l,mathFence:o,render:(r,c)=>{const m=n.document(r,u).convert(r,{display:c});return s.outerHTML(m)}})};exports.createMathjaxInstance=w,exports.getDocumentOptions=j,exports.mathjax=y;
//# sourceMappingURL=index.cjs.map
