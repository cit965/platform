import{defineComponent as l,ref as i,onMounted as s,h as o,Transition as r}from"vue";import{useLocaleConfig as c}from"vuepress-shared/client";import{l as d,U as v}from"../define-Da86DF5U.js";import"../styles/popup.scss";import{u as m}from"../usePWAEvent-PKhQONiA.js";var f=l({name:"SWHintPopup",slots:Object,setup(b,{slots:p}){const u=c(d),e=i(!1),t=()=>{e.value&&(window.location.reload(!0),e.value=!1)};return s(()=>{const n=m();n.on("updatefound",()=>{navigator.serviceWorker.getRegistration().then(a=>{a&&a.active&&(e.value=!0)})}),n.on("updated",()=>{e.value=!1})}),()=>o(r,{name:"popup"},()=>p.default?.({enabled:e.value,uninstall:t})||(e.value?o("button",{type:"button",class:"sw-hint-popup",tabindex:0,onClick:()=>t()},[u.value.hint,o("span",{class:"icon-wrapper"},o(v))]):null))}});export{f as default};
//# sourceMappingURL=SWHintPopup.js.map
