import{usePageFrontmatter as E,usePageData as y,defineClientConfig as C}from"@vuepress/client";import{u as O,i as T}from"./index-jBFX0C1B.js";import{useFullscreen as _,useEventListener as I}from"@vueuse/core";import{computed as P,onMounted as k,watch as L,nextTick as x}from"vue";import{useLocaleConfig as A}from"vuepress-shared/client";import"photoswipe/dist/photoswipe.css";import"./styles/photo-swipe.scss";import{isString as b}from"@vuepress/shared";const H=PHOTO_SWIPE_SELECTOR,N=PHOTO_SWIPE_LOCALES,M=PHOTO_SWIPE_DELAY,u=PHOTO_SWIPE_SCROLL_TO_CLOSE,z='<div class="photo-swipe-loading"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div>',D=e=>b(e)?Array.from(document.querySelectorAll(e)):e.map(n=>Array.from(document.querySelectorAll(n))).flat(),h=e=>new Promise((n,m)=>{e.complete?n({type:"image",element:e,src:e.src,width:e.naturalWidth,height:e.naturalHeight,alt:e.alt,msrc:e.src}):(e.onload=()=>n(h(e)),e.onerror=d=>m(d))}),W=()=>{const e=A(N),n=E(),m=y(),{isSupported:d,toggle:v}=_(),g=O();let s;const p=P(()=>n.value.photoSwipe===!1?!1:n.value.photoSwipe||H),w=a=>{a.on("uiRegister",()=>{d&&a.ui.registerElement({name:"fullscreen",order:7,isButton:!0,html:'<svg class="pswp__icn" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M249.5 270.833H437v-75H212a37.5 37.5 0 0 0-37.5 37.5v225h75v-187.5zm-37.5 600h225v-75H249.5v-187.5h-75v225a37.5 37.5 0 0 0 37.5 37.5zm637.5-37.5v-225h-75v187.5H587v75h225a37.5 37.5 0 0 0 37.5-37.5zM587 270.833h187.5v187.5h75v-225a37.5 37.5 0 0 0-37.5-37.5H587v75z"/></svg>',onClick:()=>{v()}}),a.ui.registerElement({name:"download",order:8,isButton:!0,tagName:"a",html:{isCustomSVG:!0,inner:'<path d="M20.5 14.3 17.1 18V10h-2.2v7.9l-3.4-3.6L10 16l6 6.1 6-6.1-1.5-1.6ZM23 23H9v2h14" id="pswp__icn-download"/>',outlineID:"pswp__icn-download"},onInit:(r,o)=>{r.setAttribute("download",""),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener"),o.on("change",()=>{r.setAttribute("href",o.currSlide.data.src)})}}),a.ui.registerElement({name:"bulletsIndicator",className:"photo-swipe-bullets-indicator",appendTo:"wrapper",onInit:(r,o)=>{const t=[];let i=-1;for(let l=0;l<o.getNumItems();l++){const c=document.createElement("div");c.className="photo-swipe-bullet",c.onclick=S=>{o.goTo(t.indexOf(S.target))},t.push(c),r.appendChild(c)}o.on("change",()=>{i>=0&&t[i].classList.remove("active"),t[o.currIndex].classList.add("active"),i=o.currIndex})}})})},f=async()=>{if(p.value)return Promise.all([import("photoswipe"),x().then(()=>new Promise(a=>setTimeout(a,M)).then(()=>D(p.value)))]).then(([{default:a},r])=>{const o=r.map(t=>({html:z,element:t,msrc:t.src}));r.forEach((t,i)=>{const l=()=>{s=new a({preloaderDelay:0,showHideAnimationType:"zoom",...e.value,...g,dataSource:o,index:i,...u?{closeOnVerticalDrag:!0,wheelToZoom:!1}:{}}),w(s),s.addFilter("thumbEl",()=>t),s.addFilter("placeholderSrc",()=>t.src),s.init()};t.style.cursor="zoom-in",t.addEventListener("click",()=>{l()}),t.addEventListener("keypress",({key:c})=>{c==="Enter"&&l()})}),r.forEach((t,i)=>{h(t).then(l=>{o.splice(i,1,l),s?.refreshSlideContent(i)})})})};k(()=>{u&&I("wheel",()=>{s?.close()}),L(()=>m.value.path,f,{immediate:!0})})};var B=C({enhance:({app:e})=>{T(e)},setup:()=>{W()}});export{B as default};
//# sourceMappingURL=config.js.map
